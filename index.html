<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Для тебя ✨</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-pink: #ff69b4;
      --secondary-pink: #ff9a9e;
      --light-pink: #fecfef;
      --dark-pink: #ff1493;
      --white: #ffffff;
      --text-dark: #333;
      --text-light: #555;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      background-attachment: fixed;
      color: var(--text-dark);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Оптимизация для мобильных - упрощенный фон */
    @media (max-width: 768px) {
      body {
        background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%);
        background-size: 200% 200%;
        animation: gradientShiftMobile 20s ease infinite;
        background-attachment: scroll;
      }

      @keyframes gradientShiftMobile {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Анимированные частицы */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      animation: float 20s infinite ease-in-out;
      will-change: transform, opacity;
      transform: translateZ(0);
      backface-visibility: hidden;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0) translateX(0) rotate(0deg);
        opacity: 0.4;
      }
      25% {
        transform: translateY(-150px) translateX(80px) rotate(90deg);
        opacity: 0.8;
      }
      50% {
        transform: translateY(-300px) translateX(-50px) rotate(180deg);
        opacity: 0.5;
      }
      75% {
        transform: translateY(-200px) translateX(120px) rotate(270deg);
        opacity: 0.9;
      }
    }

    /* Плавающие сердечки */
    .hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .heart {
      position: absolute;
      font-size: 24px;
      color: rgba(255, 105, 180, 0.6);
      animation: heartFloat 25s infinite ease-in-out;
      will-change: transform, opacity;
      transform: translateZ(0);
      backface-visibility: hidden;
      cursor: pointer;
      pointer-events: auto;
      transition: transform 0.2s;
    }

    .heart:hover {
      transform: scale(1.5);
    }

    @keyframes heartFloat {
      0% {
        transform: translateY(100vh) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) translateX(150px) rotate(360deg);
        opacity: 0;
      }
    }

    /* Навигация */
    .nav-dots {
      position: fixed;
      right: 30px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .nav-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      border: 2px solid rgba(255, 255, 255, 0.8);
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .nav-dot:hover {
      transform: scale(1.3);
      background: rgba(255, 255, 255, 0.9);
    }

    .nav-dot.active {
      background: var(--primary-pink);
      border-color: var(--white);
      box-shadow: 0 0 15px rgba(255, 105, 180, 0.8);
    }

    /* Секции */
    .section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 80px 20px;
      position: relative;
      z-index: 1;
    }

    .container {
      position: relative;
      padding: 60px 40px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 30px;
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.2),
                  0 0 0 1px rgba(255, 255, 255, 0.3),
                  inset 0 0 100px rgba(255, 255, 255, 0.1);
      text-align: center;
      overflow: hidden;
      animation: fadeInUp 1s ease-out;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    /* Оптимизация для мобильных - отключаем backdrop-filter */
    @media (max-width: 768px) {
      .container {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2),
                    0 0 0 1px rgba(255, 255, 255, 0.3);
        padding: 40px 25px;
      }
    }

    .container:hover {
      transform: translateY(-5px);
      box-shadow: 0 35px 100px rgba(0, 0, 0, 0.3),
                  0 0 0 1px rgba(255, 255, 255, 0.4),
                  inset 0 0 120px rgba(255, 255, 255, 0.15);
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Блестящий эффект */
    .container::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: shine 4s infinite;
      pointer-events: none;
    }

    @keyframes shine {
      0% {
        transform: translateX(-100%) translateY(-100%) rotate(45deg);
      }
      100% {
        transform: translateX(100%) translateY(100%) rotate(45deg);
      }
    }

    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 4.5rem;
      color: var(--white);
      margin-bottom: 30px;
      text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.3),
                   0 0 30px rgba(255, 105, 180, 0.5);
      animation: titleGlow 3s ease-in-out infinite;
      position: relative;
      z-index: 2;
    }

    @keyframes titleGlow {
      0%, 100% {
        text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.3),
                     0 0 30px rgba(255, 105, 180, 0.5);
      }
      50% {
        text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.3),
                     0 0 50px rgba(255, 105, 180, 0.8);
      }
    }

    h2 {
      font-family: 'Dancing Script', cursive;
      font-size: 3rem;
      color: var(--white);
      margin-bottom: 40px;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      position: relative;
      z-index: 2;
    }

    .message {
      font-size: 1.4rem;
      line-height: 2.2;
      font-weight: 400;
      color: var(--white);
      text-align: center;
      margin-bottom: 50px;
      position: relative;
      z-index: 2;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
      animation: fadeIn 2s ease-out 0.5s both;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    .highlight {
      color: #ffeb3b;
      font-weight: 600;
      font-style: italic;
      text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
    }

    /* Сетка для фотографий */
    .photos-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 30px;
      margin-top: 50px;
      position: relative;
      z-index: 2;
    }

    /* Последняя фотография по центру */
    .photos-grid .photo-item:last-child {
      grid-column: 2;
      justify-self: center;
    }

    @media (max-width: 968px) {
      .photos-grid .photo-item:last-child {
        grid-column: 1 / -1;
        max-width: 500px;
        margin: 0 auto;
      }
    }

    .photo-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      opacity: 0;
      transform: translateY(30px) scale(0.9);
      animation: photoFadeIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
      cursor: pointer;
    }

    @keyframes photoFadeIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .photo-item:nth-child(1) { animation-delay: 0.1s; }
    .photo-item:nth-child(2) { animation-delay: 0.2s; }
    .photo-item:nth-child(3) { animation-delay: 0.3s; }
    .photo-item:nth-child(4) { animation-delay: 0.4s; }
    .photo-item:nth-child(5) { animation-delay: 0.5s; }
    .photo-item:nth-child(6) { animation-delay: 0.6s; }
    .photo-item:nth-child(7) { 
      animation-delay: 0.8s;
      animation-duration: 1s;
    }

    .photo-wrapper {
      position: relative;
      width: 100%;
      max-width: 350px;
      margin-bottom: 20px;
      animation: floatPhoto 5s ease-in-out infinite;
      will-change: transform;
      transform: translateZ(0);
      transition: transform 0.3s ease;
    }

    @keyframes floatPhoto {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-15px) rotate(2deg);
      }
    }

    .photo-item:hover .photo-wrapper {
      animation-play-state: paused;
      transform: translateY(-20px) rotate(3deg) scale(1.05);
    }

    .photo-frame {
      width: 100%;
      height: auto;
      border-radius: 25px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4),
                  0 0 0 0 rgba(255, 105, 180, 0.4);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border: 4px solid rgba(255, 255, 255, 0.9);
      display: block;
      object-fit: cover;
      will-change: transform, box-shadow;
      transform: translateZ(0);
      filter: brightness(1) saturate(1);
    }

    .photo-frame:hover {
      transform: scale(1.08) rotate(2deg);
      box-shadow: 0 30px 70px rgba(255, 105, 180, 0.6),
                  0 0 40px rgba(255, 105, 180, 0.4);
      filter: brightness(1.1) saturate(1.1);
    }

    /* Особый стиль для последней фотографии */
    .photos-grid .photo-item:last-child .photo-frame {
      box-shadow: 0 25px 60px rgba(255, 105, 180, 0.5),
                  0 0 30px rgba(255, 105, 180, 0.3);
      border: 5px solid rgba(255, 255, 255, 0.95);
    }

    .photos-grid .photo-item:last-child .photo-frame:hover {
      box-shadow: 0 35px 80px rgba(255, 105, 180, 0.7),
                  0 0 50px rgba(255, 105, 180, 0.5);
      transform: scale(1.12) rotate(2deg);
    }

    .photo-caption {
      font-family: 'Dancing Script', cursive;
      font-size: 1.6rem;
      color: var(--white);
      text-align: center;
      padding: 18px 25px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 2;
      line-height: 1.5;
      max-width: 350px;
      margin: 0 auto;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    .photo-caption:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-5px);
    }

    /* Карточки комплиментов */
    .compliments-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 25px;
      margin-top: 40px;
      position: relative;
      z-index: 2;
    }

    .compliment-card {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border: 2px solid rgba(255, 255, 255, 0.3);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.8s ease-out both;
    }

    .compliment-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s;
    }

    .compliment-card:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 25px 60px rgba(255, 105, 180, 0.4);
      border-color: rgba(255, 255, 255, 0.6);
    }

    .compliment-card:hover::before {
      opacity: 1;
    }

    .compliment-card .icon {
      font-size: 3rem;
      margin-bottom: 15px;
      display: block;
    }

    .compliment-card .text {
      font-size: 1.2rem;
      color: var(--white);
      font-weight: 500;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
    }

    /* Секция "Почему ты особенная" */
    .reasons-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 40px;
      position: relative;
      z-index: 2;
    }

    .reason-item {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 25px 30px;
      text-align: left;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border-left: 5px solid var(--primary-pink);
      transition: all 0.3s ease;
      animation: slideInLeft 0.8s ease-out both;
      cursor: pointer;
    }

    .reason-item:nth-child(1) { animation-delay: 0.1s; }
    .reason-item:nth-child(2) { animation-delay: 0.15s; }
    .reason-item:nth-child(3) { animation-delay: 0.2s; }
    .reason-item:nth-child(4) { animation-delay: 0.25s; }
    .reason-item:nth-child(5) { animation-delay: 0.3s; }
    .reason-item:nth-child(6) { animation-delay: 0.35s; }
    .reason-item:nth-child(7) { animation-delay: 0.4s; }
    .reason-item:nth-child(8) { animation-delay: 0.45s; }
    .reason-item:nth-child(9) { animation-delay: 0.5s; }
    .reason-item:nth-child(10) { animation-delay: 0.55s; }
    .reason-item:nth-child(11) { animation-delay: 0.6s; }
    .reason-item:nth-child(12) { animation-delay: 0.65s; }
    .reason-item:nth-child(13) { animation-delay: 0.7s; }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .reason-item:hover {
      transform: translateX(10px);
      background: rgba(255, 255, 255, 0.25);
      box-shadow: 0 15px 40px rgba(255, 105, 180, 0.3);
    }

    .reason-item .emoji {
      font-size: 2rem;
      margin-right: 15px;
      display: inline-block;
    }

    .reason-item .text {
      font-size: 1.3rem;
      color: var(--white);
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
    }

    /* Секция пожеланий */
    .wishes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 40px;
      position: relative;
      z-index: 2;
    }

    .wish-card {
      background: linear-gradient(135deg, rgba(255, 105, 180, 0.3), rgba(255, 182, 193, 0.3));
      backdrop-filter: blur(15px);
      border-radius: 25px;
      padding: 35px 25px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.4s ease;
      animation: fadeInUp 0.8s ease-out both;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .wish-card::after {
      content: '✨';
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 2rem;
      opacity: 0.5;
    }

    .wish-card:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 25px 60px rgba(255, 105, 180, 0.5);
    }

    .wish-card .text {
      font-size: 1.2rem;
      color: var(--white);
      font-weight: 500;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
      line-height: 1.6;
      position: relative;
      z-index: 1;
    }

    /* Кнопка управления музыкой */
    .music-control {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-pink), var(--secondary-pink));
      border: 4px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 8px 30px rgba(255, 105, 180, 0.5);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      color: white;
      transition: all 0.3s ease;
      animation: musicPulse 2s ease-in-out infinite;
    }

    .music-control:hover {
      transform: scale(1.15) rotate(5deg);
      box-shadow: 0 12px 40px rgba(255, 105, 180, 0.7);
    }

    .music-control.playing {
      animation: musicPulse 1s ease-in-out infinite;
    }

    @keyframes musicPulse {
      0%, 100% {
        box-shadow: 0 8px 30px rgba(255, 105, 180, 0.5);
      }
      50% {
        box-shadow: 0 12px 45px rgba(255, 105, 180, 0.8);
      }
    }

    /* Модальное окно для фотографий */
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      animation: fadeIn 0.3s ease;
    }

    .modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      animation: scaleIn 0.3s ease;
    }

    @keyframes scaleIn {
      from {
        transform: scale(0.8);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .modal-image {
      max-width: 100%;
      max-height: 90vh;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(255, 105, 180, 0.5);
    }

    .modal-close {
      position: absolute;
      top: -50px;
      right: 0;
      color: var(--white);
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .modal-close:hover {
      transform: rotate(90deg) scale(1.2);
    }

    .modal-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: none;
      color: var(--white);
      font-size: 30px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-nav:hover {
      background: rgba(255, 255, 255, 0.4);
      transform: translateY(-50%) scale(1.1);
    }

    .modal-prev {
      left: -70px;
    }

    .modal-next {
      right: -70px;
    }

    /* Конфетти */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: var(--primary-pink);
      position: absolute;
      animation: confettiFall 3s linear forwards;
    }

    @keyframes confettiFall {
      to {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Секция с письмом */
    .letter-section {
      position: relative;
      z-index: 2;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 60px 20px;
    }

    .letter-container {
      position: relative;
      max-width: 800px;
      width: 100%;
      opacity: 0;
      animation: letterAppear 1.5s ease-out forwards;
    }

    .letter-section.visible .letter-container {
      animation: letterAppear 1.5s ease-out forwards;
    }

    @keyframes letterAppear {
      0% {
        opacity: 0;
        transform: translateY(50px) scale(0.9) rotate(-2deg);
      }
      60% {
        transform: translateY(-10px) scale(1.02) rotate(1deg);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1) rotate(0deg);
      }
    }

    @keyframes fadeOut {
      from {
        opacity: 1;
        transform: translateY(0);
      }
      to {
        opacity: 0;
        transform: translateY(-20px);
      }
    }

    .letter-paper {
      background: linear-gradient(to bottom, #fefefe 0%, #f9f9f9 100%);
      border-radius: 8px;
      padding: 60px 50px;
      box-shadow: 
        0 0 0 1px rgba(0, 0, 0, 0.1),
        0 10px 40px rgba(0, 0, 0, 0.2),
        0 0 100px rgba(255, 105, 180, 0.1),
        inset 0 0 50px rgba(255, 255, 255, 0.5);
      position: relative;
      overflow: hidden;
      transform-style: preserve-3d;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .letter-paper:hover {
      transform: translateY(-5px) rotate(0.5deg);
      box-shadow: 
        0 0 0 1px rgba(0, 0, 0, 0.1),
        0 15px 50px rgba(0, 0, 0, 0.3),
        0 0 120px rgba(255, 105, 180, 0.15),
        inset 0 0 60px rgba(255, 255, 255, 0.6);
    }

    .letter-paper::before {
      content: '';
      position: absolute;
      top: 0;
      left: 60px;
      width: 2px;
      height: 100%;
      background: rgba(255, 105, 180, 0.2);
      opacity: 0.3;
    }

    .letter-paper::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        repeating-linear-gradient(
          transparent,
          transparent 31px,
          rgba(255, 105, 180, 0.05) 31px,
          rgba(255, 105, 180, 0.05) 32px
        );
      pointer-events: none;
    }

    .letter-header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 2px solid rgba(255, 105, 180, 0.2);
      position: relative;
      z-index: 1;
    }

    .letter-date {
      font-family: 'Dancing Script', cursive;
      font-size: 1.4rem;
      color: #888;
      margin-bottom: 10px;
      opacity: 0;
      animation: fadeInUp 0.8s ease-out 0.5s forwards;
    }

    .letter-title {
      font-family: 'Dancing Script', cursive;
      font-size: 2.5rem;
      color: var(--primary-pink);
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
      opacity: 0;
      animation: fadeInUp 0.8s ease-out 0.7s forwards;
    }

    .letter-content {
      font-family: 'Playfair Display', serif;
      font-size: 1.3rem;
      line-height: 2;
      color: #444;
      text-align: justify;
      position: relative;
      z-index: 1;
      min-height: 400px;
    }

    .letter-text {
      opacity: 0;
    }

    .letter-text.typing {
      opacity: 1;
    }

    .letter-cursor {
      display: inline-block;
      width: 2px;
      height: 1.3em;
      background: var(--primary-pink);
      margin-left: 2px;
      animation: blink 1s infinite;
      vertical-align: baseline;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    .letter-signature {
      text-align: right;
      margin-top: 40px;
      padding-top: 20px;
      border-top: 2px solid rgba(255, 105, 180, 0.2);
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      color: var(--primary-pink);
      opacity: 0;
      animation: fadeInUp 0.8s ease-out forwards;
    }

    .letter-heart {
      position: absolute;
      font-size: 2rem;
      color: rgba(255, 105, 180, 0.3);
      animation: floatHeart 4s ease-in-out infinite;
      pointer-events: none;
    }

    @keyframes floatHeart {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.3;
      }
      50% {
        transform: translateY(-20px) rotate(10deg);
        opacity: 0.6;
      }
    }

    .letter-heart:nth-child(1) {
      top: 20px;
      right: 30px;
      animation-delay: 0s;
    }

    .letter-heart:nth-child(2) {
      bottom: 30px;
      left: 40px;
      animation-delay: 1s;
    }

    .letter-heart:nth-child(3) {
      top: 50%;
      right: 20px;
      animation-delay: 2s;
    }

    /* Кнопки перед письмом */
    .letter-prompt {
      text-align: center;
      margin-bottom: 40px;
        opacity: 0;
      animation: fadeInUp 1s ease-out forwards;
    }

    .letter-prompt.hidden {
      display: none;
    }

    .letter-question {
      font-family: 'Dancing Script', cursive;
      font-size: 2.5rem;
      color: var(--white);
      margin-bottom: 30px;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      animation: questionPulse 2s ease-in-out infinite;
    }

    @keyframes questionPulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }

    .letter-wrong-answer {
      font-family: 'Dancing Script', cursive;
      font-size: 2rem;
      color: #ff6b6b;
      margin-bottom: 30px;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      animation: shake 0.5s ease-in-out;
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }

    .letter-buttons {
      display: flex;
      gap: 30px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }

    .letter-button {
      font-family: 'Poppins', sans-serif;
      font-size: 1.3rem;
      font-weight: 600;
      padding: 18px 50px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      text-transform: uppercase;
      letter-spacing: 1px;
      min-width: 150px;
    }

    .letter-button::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }

    .letter-button:hover::before {
      width: 300px;
      height: 300px;
    }

    .letter-button:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
    }

    .letter-button:active {
      transform: translateY(-2px) scale(1.02);
    }

    .letter-button-yes {
      background: linear-gradient(135deg, #51cf66, #40c057);
      color: white;
      animation: buttonGlow 2s ease-in-out infinite;
    }

    @keyframes buttonGlow {
      0%, 100% {
        box-shadow: 0 10px 30px rgba(81, 207, 102, 0.4);
      }
      50% {
        box-shadow: 0 15px 45px rgba(81, 207, 102, 0.6);
      }
    }

    .letter-button-no {
      background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
      color: white;
    }

    .letter-button span {
      position: relative;
      z-index: 1;
    }

    .letter-button-yes:hover {
      background: linear-gradient(135deg, #40c057, #37b24d);
    }

    .letter-button-no:hover {
      background: linear-gradient(135deg, #ee5a6f, #e03131);
    }

    /* Счетчик кликов по сердечкам */
    .hearts-counter {
      position: fixed;
      top: 30px;
      left: 30px;
      z-index: 1001;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(15px);
      padding: 15px 25px;
      border-radius: 50px;
      color: var(--white);
      font-size: 1.2rem;
      font-weight: 600;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      display: flex;
      align-items: center;
      gap: 10px;
      animation: fadeInUp 1s ease-out;
    }

    .hearts-counter .icon {
      font-size: 1.5rem;
      animation: heartBeat 1.5s ease-in-out infinite;
    }

    @keyframes heartBeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    /* Календарь дней знакомства */
    .days-counter {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
      margin-top: 40px;
    }

    .days-counter-item {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 30px 40px;
      text-align: center;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      min-width: 250px;
    }

    .days-counter-item:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 20px 50px rgba(255, 105, 180, 0.4);
    }

    .days-counter-label {
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      color: var(--white);
      margin-bottom: 15px;
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
    }

    .days-counter-number {
      font-size: 3.5rem;
      font-weight: 700;
      color: var(--white);
      text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.3);
      animation: numberPulse 2s ease-in-out infinite;
    }

    @keyframes numberPulse {
      0%, 100% {
        transform: scale(1);
        text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.3);
      }
      50% {
        transform: scale(1.1);
        text-shadow: 3px 3px 25px rgba(255, 105, 180, 0.6);
      }
    }

    /* Цитаты о любви */
    .quotes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    .quote-card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      padding: 40px 30px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateY(30px);
    }

    @keyframes quoteFadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .quote-card::before {
      content: '"';
      position: absolute;
      top: -20px;
      left: 20px;
      font-size: 8rem;
      color: rgba(255, 255, 255, 0.1);
      font-family: 'Playfair Display', serif;
    }

    .quote-card:hover {
      transform: translateY(-10px) scale(1.03);
      box-shadow: 0 25px 60px rgba(255, 105, 180, 0.4);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .quote-text {
      font-family: 'Playfair Display', serif;
      font-size: 1.3rem;
      line-height: 1.8;
      color: var(--white);
      text-align: center;
      font-style: italic;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
    }

    .quote-author {
      font-family: 'Dancing Script', cursive;
      font-size: 1.5rem;
      color: var(--white);
      text-align: right;
      margin-top: 20px;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
    }

    /* Плейлист музыки */
    .playlist-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    .playlist-item {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.4s ease;
      cursor: pointer;
      opacity: 0;
      transform: translateY(30px) scale(0.9);
      animation: playlistFadeIn 0.8s ease-out forwards;
    }

    @keyframes playlistFadeIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .playlist-item:nth-child(1) { animation-delay: 0.1s; }
    .playlist-item:nth-child(2) { animation-delay: 0.2s; }
    .playlist-item:nth-child(3) { animation-delay: 0.3s; }
    .playlist-item:nth-child(4) { animation-delay: 0.4s; }
    .playlist-item:nth-child(5) { animation-delay: 0.5s; }
    .playlist-item:nth-child(6) { animation-delay: 0.6s; }

    .playlist-item:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 25px 60px rgba(255, 105, 180, 0.5);
    }

    .playlist-cover {
      width: 100%;
      height: 280px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4rem;
      position: relative;
      overflow: hidden;
    }

    .playlist-cover::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      animation: coverShine 3s infinite;
    }

    @keyframes coverShine {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .playlist-info {
      padding: 25px;
      text-align: center;
    }

    .playlist-title {
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      color: var(--white);
      margin-bottom: 10px;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
    }

    .playlist-artist {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.9);
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
    }

    .playlist-play-btn {
      margin-top: 15px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.5);
      color: var(--white);
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .playlist-play-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    /* Благодарность */
    .gratitude-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
      margin-top: 40px;
    }

    .gratitude-card {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      padding: 35px 30px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      text-align: center;
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateY(30px);
    }

    @keyframes gratitudeFadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .gratitude-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s;
    }

    .gratitude-card:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 25px 60px rgba(255, 105, 180, 0.4);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .gratitude-card:hover::before {
      opacity: 1;
    }

    .gratitude-emoji {
      font-size: 3.5rem;
      margin-bottom: 20px;
      display: block;
      animation: emojiFloat 3s ease-in-out infinite;
    }

    @keyframes emojiFloat {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      50% {
        transform: translateY(-10px) rotate(5deg);
      }
    }

    .gratitude-text {
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      line-height: 1.8;
      color: var(--white);
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
    }

    /* Топ-10 моментов */
    .moments-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 40px;
    }

    .moment-item {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      padding: 25px 30px;
      display: flex;
      align-items: center;
      gap: 25px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      opacity: 0;
      transform: translateX(-30px);
      position: relative;
      overflow: hidden;
    }

    @keyframes momentFadeIn {
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .moment-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 5px;
      background: linear-gradient(180deg, var(--primary-pink), var(--secondary-pink));
      transition: width 0.3s;
    }

    .moment-item:hover {
      transform: translateX(10px) translateY(-5px);
      box-shadow: 0 20px 50px rgba(255, 105, 180, 0.4);
      border-color: rgba(255, 255, 255, 0.5);
    }

    .moment-item:hover::before {
      width: 8px;
    }

    .moment-rank {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--white);
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      min-width: 60px;
      text-align: center;
      background: linear-gradient(135deg, var(--primary-pink), var(--secondary-pink));
      border-radius: 15px;
      padding: 15px;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
    }

    .moment-content {
      flex: 1;
    }

    .moment-title {
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      color: var(--white);
      margin-bottom: 8px;
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
    }

    .moment-description {
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.9);
      text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
      line-height: 1.6;
    }

    /* Всплывающее сообщение с комплиментами */
    .compliments-popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(10px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 3000;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .compliments-popup.show {
      display: flex;
      opacity: 1;
    }

    .compliments-popup.fade-out {
      opacity: 0;
      transition: opacity 3s ease-out;
    }

    .compliments-popup-content.fade-out {
      opacity: 0;
      transform: scale(0.95) translateY(20px);
      transition: opacity 3s ease-out, transform 3s ease-out;
    }

    .compliments-popup-content {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 240, 245, 0.95));
      backdrop-filter: blur(20px);
      border-radius: 30px;
      padding: 60px 50px;
      max-width: 800px;
      width: 90%;
      box-shadow: 
        0 25px 80px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.5),
        inset 0 0 100px rgba(255, 255, 255, 0.3);
      text-align: center;
      position: relative;
      animation: popupAppear 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes popupAppear {
      0% {
        opacity: 0;
        transform: scale(0.8) translateY(50px);
      }
      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .compliments-popup-question {
      font-family: 'Dancing Script', cursive;
      font-size: 2.5rem;
      color: var(--primary-pink);
      margin-bottom: 40px;
      text-shadow: 2px 2px 10px rgba(255, 105, 180, 0.3);
      animation: questionGlow 2s ease-in-out infinite;
    }

    @keyframes questionGlow {
      0%, 100% {
        text-shadow: 2px 2px 10px rgba(255, 105, 180, 0.3);
      }
      50% {
        text-shadow: 2px 2px 20px rgba(255, 105, 180, 0.6);
      }
    }

    .compliments-popup-text {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      line-height: 2;
      color: #444;
      min-height: 100px;
      text-align: center;
      position: relative;
    }

    .compliments-cursor {
      display: inline-block;
      width: 3px;
      height: 1.5em;
      background: var(--primary-pink);
      margin-left: 3px;
      animation: blink 1s infinite;
      vertical-align: baseline;
    }

    @media (max-width: 768px) {
      .compliments-popup-content {
        padding: 40px 30px;
      }

      .compliments-popup-question {
        font-size: 2rem;
        margin-bottom: 30px;
      }

      .compliments-popup-text {
        font-size: 1.4rem;
        line-height: 1.8;
      }
    }

    @media (max-width: 480px) {
      .compliments-popup-content {
        padding: 30px 20px;
      }

      .compliments-popup-question {
        font-size: 1.6rem;
      }

      .compliments-popup-text {
        font-size: 1.2rem;
      }
    }

    /* Адаптивность */
    @media (max-width: 968px) {
      .photos-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
      }

      .nav-dots {
        right: 15px;
      }
    }

    @media (max-width: 768px) {
      .particles,
      .hearts {
        display: none;
      }

      .container::before {
        display: none;
      }

      .nav-dots {
        display: none;
      }

      /* Отключаем backdrop-filter везде на мобильных */
      * {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
      }

      /* Упрощаем фоны */
      .photo-caption,
      .compliment-card,
      .reason-item,
      .wish-card,
      .days-counter-item,
      .quote-card,
      .gratitude-card,
      .moment-item {
        background: rgba(255, 255, 255, 0.3) !important;
      }

      /* Отключаем тяжелые анимации */
      .photo-wrapper,
      .photo-frame,
      .photo-caption,
      .floatPhoto,
      .photoPulse {
        animation: none !important;
      }

      /* Упрощаем переходы */
      * {
        transition-duration: 0.2s !important;
      }

      /* Отключаем will-change на мобильных */
      * {
        will-change: auto !important;
      }

      /* Упрощаем тени */
      .container,
      .photo-frame,
      .compliment-card,
      .wish-card,
      .quote-card,
      .gratitude-card,
      .moment-item {
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2) !important;
      }

      /* Отключаем сложные градиенты */
      .wish-card {
        background: rgba(255, 105, 180, 0.4) !important;
      }

      /* Упрощаем анимации цифр */
      .days-counter-number {
        animation: none !important;
      }
    }

    /* Дополнительная оптимизация для слабых устройств */
    @media (max-width: 480px) {
      /* Еще больше упрощаем */
      .section {
        padding: 40px 10px !important;
      }

      .container {
        padding: 30px 20px !important;
      }

      /* Уменьшаем размеры шрифтов */
      h1 {
        font-size: 2rem !important;
      }

      h2 {
        font-size: 1.8rem !important;
      }

      /* Отключаем все hover эффекты */
      *:hover {
        transform: none !important;
      }

      /* Упрощаем hover эффекты */
      .photo-frame:hover,
      .compliment-card:hover,
      .wish-card:hover,
      .quote-card:hover,
      .gratitude-card:hover,
      .moment-item:hover {
        transform: translateY(-5px) !important;
      }

      /* Отключаем конфетти */
      .confetti {
        display: none !important;
      }

      /* Упрощаем модальное окно */
      .modal {
        backdrop-filter: none !important;
        background: rgba(0, 0, 0, 0.95) !important;
      }

      .compliments-popup {
        backdrop-filter: none !important;
      }

      .compliments-popup-content {
        backdrop-filter: none !important;
        background: rgba(255, 255, 255, 0.98) !important;
      }

      .section {
        padding: 60px 15px;
      }

      .container {
        padding: 40px 25px;
      }

      h1 {
        font-size: 3rem;
      }

      h2 {
        font-size: 2.2rem;
      }

      .message {
        font-size: 1.1rem;
        line-height: 1.9;
      }

      .photos-grid {
        grid-template-columns: 1fr;
        gap: 30px;
      }

      .photos-grid .photo-item:last-child {
        grid-column: 1;
        max-width: 100%;
      }

      .compliments-grid,
      .wishes-grid {
        grid-template-columns: 1fr;
      }

      .modal-nav {
        display: none;
      }

      .modal-close {
        top: 20px;
        right: 20px;
      }

      .music-control {
        width: 60px;
        height: 60px;
        font-size: 24px;
        bottom: 20px;
        right: 20px;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 2.5rem;
      }

      h2 {
        font-size: 1.8rem;
      }

      .message {
        font-size: 1rem;
      }

      .photo-caption {
        font-size: 1.3rem;
        padding: 15px 20px;
      }

      .compliment-card,
      .wish-card {
        padding: 25px 20px;
      }

      .letter-paper {
        padding: 40px 30px;
      }

      .letter-title {
        font-size: 2rem;
      }

      .letter-content {
        font-size: 1.1rem;
        line-height: 1.8;
      }

      .letter-date {
        font-size: 1.1rem;
      }

      .letter-signature {
        font-size: 1.5rem;
      }
    }

    @media (max-width: 768px) {
      .letter-paper {
        padding: 35px 25px;
      }

      .letter-title {
        font-size: 1.8rem;
      }

      .letter-content {
        font-size: 1rem;
        line-height: 1.7;
        min-height: 300px;
      }

      .letter-date {
        font-size: 1rem;
      }

      .letter-signature {
        font-size: 1.3rem;
        margin-top: 30px;
      }

      .letter-heart {
        font-size: 1.5rem;
      }

      .letter-question {
        font-size: 1.8rem;
      }

      .letter-wrong-answer {
        font-size: 1.5rem;
      }

      .letter-button {
        font-size: 1.1rem;
        padding: 15px 40px;
        min-width: 120px;
      }

      .letter-buttons {
        gap: 20px;
      }

      .days-counter {
        gap: 20px;
      }

      .days-counter-item {
        padding: 25px 30px;
        min-width: 200px;
      }

      .days-counter-label {
        font-size: 1.5rem;
      }

      .days-counter-number {
        font-size: 2.5rem;
      }

      .quotes-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .gratitude-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .gratitude-card {
        padding: 30px 25px;
      }

      .gratitude-emoji {
        font-size: 3rem;
      }

      .gratitude-text {
        font-size: 1.1rem;
      }

      .moment-item {
        flex-direction: column;
        text-align: center;
        padding: 20px;
      }

      .moment-rank {
        font-size: 2rem;
        min-width: 50px;
        padding: 12px;
      }

      .moment-title {
        font-size: 1.5rem;
      }

      .moment-description {
        font-size: 1rem;
      }

      .hearts-counter {
        top: 15px;
        left: 15px;
        padding: 10px 20px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Анимированные частицы -->
  <div class="particles" id="particles"></div>
  
  <!-- Плавающие сердечки -->
  <div class="hearts" id="hearts"></div>

  <!-- Счетчик кликов по сердечкам -->
  <div class="hearts-counter" id="heartsCounter" style="display: none;">
    <span class="icon">❤️</span>
    <span id="heartsCount">0</span>
  </div>

  <!-- Навигация -->
  <div class="nav-dots" id="navDots"></div>

  <!-- Кнопка управления музыкой -->
  <button class="music-control" id="musicControl" title="Включить/выключить музыку">
    <span id="musicIcon">🎵</span>
  </button>

  <!-- Аудио элемент -->
  <audio id="backgroundMusic" loop preload="auto" muted>
    <source src="Кевин Костнер 9 ГРАММ.mp3" type="audio/mpeg">
  </audio>

  <!-- Секция 1: Главная -->
  <section class="section" id="section1">
  <div class="container">
      <h1 id="mainTitle">Для тебя, прекрасная ✨</h1>
    <div class="message">
        <p>Моя дорогая, хотя мы знакомы не так давно, ты уже успела очаровать меня своей <span class="highlight">невероятной красотой</span> и <span class="highlight">лучезарной улыбкой</span>, которая способна растопить любое сердце.</p>
        <p>Ты <span class="highlight">невероятно милая</span> и <span class="highlight">добрая</span>, и каждый момент рядом с тобой наполнен теплом и светом. Твоя <span class="highlight">сногсшибательная</span> внешность сочетается с внутренней красотой, которая делает тебя по-настоящему <span class="highlight">очаровательной</span> и неповторимой.</p>
        <p>Когда я смотрю на тебя, я вижу не просто красивую девушку — я вижу <span class="highlight">настоящее чудо</span>, которое делает мой мир ярче и счастливее. Твоя улыбка — это как солнце, которое освещает даже самый хмурый день.</p>
        <p>Ты — это настоящее сокровище, и я благодарен судьбе за то, что она свела нас вместе. Каждый день, проведенный рядом с тобой, становится особенным и незабываемым. Ты делаешь мою жизнь полной смысла и радости. ❤️</p>
        <p>Я хочу, чтобы ты знала: ты <span class="highlight">невероятно ценна</span> для меня, и я счастлив, что могу видеть твою улыбку и слышать твой смех. Спасибо тебе за то, что ты есть в моей жизни. 💕</p>
    </div>
    </div>
  </section>

  <!-- Секция 2: Комплименты -->
  <section class="section" id="section2">
    <div class="container">
      <h2>Ты просто невероятная 💖</h2>
      <div class="compliments-grid">
        <div class="compliment-card">
          <span class="icon">✨</span>
          <div class="text">Твоя улыбка освещает весь мир</div>
        </div>
        <div class="compliment-card">
          <span class="icon">🌺</span>
          <div class="text">Ты невероятно красивая</div>
        </div>
        <div class="compliment-card">
          <span class="icon">💫</span>
          <div class="text">Твоя доброта вдохновляет</div>
        </div>
        <div class="compliment-card">
          <span class="icon">🌸</span>
          <div class="text">Ты очаровательная и милая</div>
        </div>
        <div class="compliment-card">
          <span class="icon">🌟</span>
          <div class="text">Твоя энергия заразительна</div>
        </div>
        <div class="compliment-card">
          <span class="icon">💕</span>
          <div class="text">Ты делаешь каждый день особенным</div>
        </div>
        <div class="compliment-card">
          <span class="icon">🌷</span>
          <div class="text">Твои глаза — это целая вселенная</div>
        </div>
        <div class="compliment-card">
          <span class="icon">💖</span>
          <div class="text">Ты невероятно талантливая</div>
        </div>
        <div class="compliment-card">
          <span class="icon">🌙</span>
          <div class="text">Твоя нежность трогает сердце</div>
        </div>
        <div class="compliment-card">
          <span class="icon">🦋</span>
          <div class="text">Ты грациозна и изящна</div>
        </div>
        <div class="compliment-card">
          <span class="icon">🌻</span>
          <div class="text">Твой смех — самая красивая мелодия</div>
        </div>
        <div class="compliment-card">
          <span class="icon">💝</span>
          <div class="text">Ты делаешь мир лучше просто своим присутствием</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 3: Фотографии -->
  <section class="section" id="section3">
    <div class="container">
      <h2>Ты прекрасна в каждом кадре 📸</h2>
      <div class="photos-grid" id="photosGrid">
      <div class="photo-item">
        <div class="photo-wrapper">
            <img src="1.jpg" alt="Ты" class="photo-frame" data-index="0">
        </div>
        <div class="photo-caption">У тебя очень красивая улыбка 😊</div>
      </div>
      <div class="photo-item">
        <div class="photo-wrapper">
            <img src="2.jpg" alt="Ты" class="photo-frame" data-index="1">
        </div>
        <div class="photo-caption">Ты очень красивая ✨</div>
      </div>
      <div class="photo-item">
        <div class="photo-wrapper">
            <img src="3.jpg" alt="Ты" class="photo-frame" data-index="2">
        </div>
        <div class="photo-caption">Мне нравится проводить время с тобой 💫</div>
      </div>
      <div class="photo-item">
        <div class="photo-wrapper">
            <img src="4.jpg" alt="Ты" class="photo-frame" data-index="3">
        </div>
        <div class="photo-caption">Ты очень милая и добрая 🌸</div>
      </div>
      <div class="photo-item">
        <div class="photo-wrapper">
            <img src="5.jpg" alt="Ты" class="photo-frame" data-index="4">
        </div>
        <div class="photo-caption">Ты очаровательная 💕</div>
      </div>
      <div class="photo-item">
        <div class="photo-wrapper">
            <img src="6.jpg" alt="Ты" class="photo-frame" data-index="5">
        </div>
        <div class="photo-caption">Спасибо, что ты есть 🌟</div>
      </div>
        <div class="photo-item">
          <div class="photo-wrapper">
            <img src="7.jpg" alt="Ты" class="photo-frame" data-index="6">
    </div>
          <div class="photo-caption">Ты невероятно красивая 💖</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 4: Почему ты особенная -->
  <section class="section" id="section4">
    <div class="container">
      <h2>Почему ты особенная 🌟</h2>
      <div class="reasons-list">
        <div class="reason-item">
          <span class="emoji">💖</span>
          <span class="text">Твоя внутренняя красота сияет ярче любой звезды</span>
        </div>
        <div class="reason-item">
          <span class="emoji">✨</span>
          <span class="text">Ты умеешь делать обычные моменты волшебными</span>
        </div>
        <div class="reason-item">
          <span class="emoji">🌺</span>
          <span class="text">Твоя доброта и забота о других вдохновляют</span>
        </div>
        <div class="reason-item">
          <span class="emoji">💫</span>
          <span class="text">С тобой каждый день становится приключением</span>
        </div>
        <div class="reason-item">
          <span class="emoji">🌸</span>
          <span class="text">Ты уникальна и неповторима во всем</span>
        </div>
        <div class="reason-item">
          <span class="emoji">🌹</span>
          <span class="text">Твоя искренность и открытость покоряют сердца</span>
        </div>
        <div class="reason-item">
          <span class="emoji">💕</span>
          <span class="text">Ты умеешь видеть красоту в простых вещах</span>
        </div>
        <div class="reason-item">
          <span class="emoji">🌟</span>
          <span class="text">Твоя мудрость и понимание делают тебя особенной</span>
        </div>
        <div class="reason-item">
          <span class="emoji">🦋</span>
          <span class="text">Ты свободна духом и полна жизни</span>
        </div>
        <div class="reason-item">
          <span class="emoji">🌙</span>
          <span class="text">Твоя загадочность и глубина притягивают</span>
        </div>
        <div class="reason-item">
          <span class="emoji">💖</span>
          <span class="text">Ты умеешь любить и дарить тепло окружающим</span>
        </div>
        <div class="reason-item">
          <span class="emoji">🌻</span>
          <span class="text">Твоя позитивная энергия заражает всех вокруг</span>
        </div>
        <div class="reason-item">
          <span class="emoji">💝</span>
          <span class="text">Ты сочетаешь в себе силу и нежность</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 5: Пожелания -->
  <section class="section" id="section5">
    <div class="container">
      <h2>Мои пожелания тебе 💝</h2>
      <div class="wishes-grid">
        <div class="wish-card">
          <div class="text">Пусть каждый день приносит тебе радость и счастье</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть все твои мечты сбываются</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть тебя окружают только добрые люди</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть в твоей жизни будет много любви и тепла</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть каждый новый день будет лучше предыдущего</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть ты всегда остаешься такой же прекрасной</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть тебя ждут только приятные сюрпризы</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть в твоей жизни будет много смеха и веселья</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть ты всегда находишь время для себя</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть тебя окружает красота и гармония</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть ты всегда чувствуешь себя любимой</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть в твоей жизни будет много вдохновения</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть ты всегда остаешься верной себе</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть каждый момент приносит тебе удовольствие</div>
        </div>
        <div class="wish-card">
          <div class="text">Пусть ты всегда находишь повод для улыбки</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 6: Письмо -->
  <section class="section" id="section6">
    <div class="letter-section">
      <div class="letter-container">
        <!-- Кнопки перед письмом -->
        <div class="letter-prompt" id="letterPrompt">
          <div class="letter-question" id="letterQuestion">Ты готова прочитать письмо? 💌</div>
          <div class="letter-buttons">
            <button class="letter-button letter-button-yes" id="letterButtonYes">
              <span>Да 💕</span>
            </button>
            <button class="letter-button letter-button-no" id="letterButtonNo">
              <span>Нет</span>
            </button>
          </div>
        </div>
        
        <!-- Письмо (скрыто до нажатия Да) -->
        <div class="letter-paper" id="letterPaper" style="display: none;">
          <span class="letter-heart">💕</span>
          <span class="letter-heart">💖</span>
          <span class="letter-heart">💗</span>
          <div class="letter-header">
            <div class="letter-date" id="letterDate"></div>
            <div class="letter-title">Моё письмо тебе</div>
          </div>
          <div class="letter-content">
            <div class="letter-text" id="letterText"></div>
            <span class="letter-cursor" id="letterCursor"></span>
          </div>
          <div class="letter-signature" id="letterSignature" style="animation-delay: 0s;">
            С любовью ❤️
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 7: Календарь дней знакомства -->
  <section class="section" id="section7">
    <div class="container">
      <h2>Наше время вместе 📅</h2>
      <div class="days-counter">
        <div class="days-counter-item">
          <div class="days-counter-label">Дней знакомства</div>
          <div class="days-counter-number" id="daysCount">0</div>
        </div>
        <div class="days-counter-item">
          <div class="days-counter-label">Особых моментов</div>
          <div class="days-counter-number" id="momentsCount">∞</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 8: Цитаты о любви -->
  <section class="section" id="section8">
    <div class="container">
      <h2>Цитаты о любви 💝</h2>
      <div class="quotes-grid">
        <div class="quote-card">
          <div class="quote-text">Любовь — это не просто чувство, это искусство видеть красоту в другом человеке.</div>
          <div class="quote-author">— О любви</div>
        </div>
        <div class="quote-card">
          <div class="quote-text">Когда ты находишь того, кого искал всю жизнь, время останавливается.</div>
          <div class="quote-author">— О времени</div>
        </div>
        <div class="quote-card">
          <div class="quote-text">Любовь — это когда один человек становится твоим миром.</div>
          <div class="quote-author">— О мире</div>
        </div>
        <div class="quote-card">
          <div class="quote-text">Настоящая любовь — это видеть совершенство в несовершенстве.</div>
          <div class="quote-author">— О совершенстве</div>
        </div>
        <div class="quote-card">
          <div class="quote-text">Любовь — это не найти идеального человека, а увидеть идеальное в человеке.</div>
          <div class="quote-author">— Об идеале</div>
        </div>
        <div class="quote-card">
          <div class="quote-text">Когда я с тобой, время летит незаметно, а моменты остаются навсегда.</div>
          <div class="quote-author">— О моментах</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 9: Благодарность -->
  <section class="section" id="section9">
    <div class="container">
      <h2>Благодарность 💝</h2>
      <div class="gratitude-grid">
        <div class="gratitude-card">
          <div class="gratitude-emoji">💕</div>
          <div class="gratitude-text">Спасибо за твою улыбку, которая делает мой день ярче</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">✨</div>
          <div class="gratitude-text">Спасибо за каждый момент, проведенный рядом с тобой</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">🌺</div>
          <div class="gratitude-text">Спасибо за твою доброту и заботу</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">💖</div>
          <div class="gratitude-text">Спасибо за то, что ты есть в моей жизни</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">🌸</div>
          <div class="gratitude-text">Спасибо за твою поддержку и понимание</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">🌟</div>
          <div class="gratitude-text">Спасибо за то, что ты делаешь меня счастливее</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">💫</div>
          <div class="gratitude-text">Спасибо за каждый разговор и каждую встречу</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">🌹</div>
          <div class="gratitude-text">Спасибо за твою искренность и открытость</div>
        </div>
        <div class="gratitude-card">
          <div class="gratitude-emoji">💝</div>
          <div class="gratitude-text">Спасибо за то, что ты такая, какая ты есть</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Секция 10: Топ-10 моментов -->
  <section class="section" id="section10">
    <div class="container">
      <h2>Топ-10 моментов ⭐</h2>
      <div class="moments-list">
        <div class="moment-item">
          <div class="moment-rank">1</div>
          <div class="moment-content">
            <div class="moment-title">Наша первая встреча</div>
            <div class="moment-description">Момент, когда я впервые увидел тебя</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">2</div>
          <div class="moment-content">
            <div class="moment-title">Первый разговор</div>
            <div class="moment-description">Когда мы начали узнавать друг друга</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">3</div>
          <div class="moment-content">
            <div class="moment-title">Твоя первая улыбка</div>
            <div class="moment-description">Момент, который растопил мое сердце</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">4</div>
          <div class="moment-content">
            <div class="moment-title">Наш первый смех вместе</div>
            <div class="moment-description">Когда мы поняли, что нам хорошо вместе</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">5</div>
          <div class="moment-content">
            <div class="moment-title">Первый глубокий разговор</div>
            <div class="moment-description">Когда мы открылись друг другу</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">6</div>
          <div class="moment-content">
            <div class="moment-title">Момент понимания</div>
            <div class="moment-description">Когда я понял, что ты особенная</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">7</div>
          <div class="moment-content">
            <div class="moment-title">Твоя забота</div>
            <div class="moment-description">Моменты, когда ты проявляла заботу</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">8</div>
          <div class="moment-content">
            <div class="moment-title">Наши общие интересы</div>
            <div class="moment-description">Когда мы нашли общие темы</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">9</div>
          <div class="moment-content">
            <div class="moment-title">Моменты тишины</div>
            <div class="moment-description">Когда нам было комфортно молчать вместе</div>
          </div>
        </div>
        <div class="moment-item">
          <div class="moment-rank">10</div>
          <div class="moment-content">
            <div class="moment-title">Каждый новый день</div>
            <div class="moment-description">Каждый момент с тобой становится особенным</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Модальное окно для фотографий -->
  <div class="modal" id="photoModal">
    <span class="modal-close" id="modalClose">&times;</span>
    <button class="modal-nav modal-prev" id="modalPrev">‹</button>
    <div class="modal-content">
      <img class="modal-image" id="modalImage" src="" alt="Фото">
    </div>
    <button class="modal-nav modal-next" id="modalNext">›</button>
  </div>

  <!-- Всплывающее сообщение с комплиментами -->
  <div class="compliments-popup" id="complimentsPopup">
    <div class="compliments-popup-content">
      <div class="compliments-popup-question" id="complimentsQuestion">Ну ты ведь понимаешь, что это не все?)</div>
      <div class="compliments-popup-text" id="complimentsText"></div>
      <span class="compliments-cursor" id="complimentsCursor"></span>
    </div>
  </div>

  <script>
    const isMobile = window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

    // Создание частиц (оптимизировано)
    function createParticles() {
      if (isMobile) return;
      const particlesContainer = document.getElementById('particles');
      const particleCount = 25; // Уменьшено с 40 до 25

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        const size = Math.random() * 6 + 3;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (Math.random() * 15 + 15) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    // Создание сердечек (оптимизировано)
    function createHearts() {
      if (isMobile) return;
      const heartsContainer = document.getElementById('hearts');
      const heartCount = 12; // Уменьшено с 20 до 12
      const heartSymbols = ['❤️', '💕', '💖', '💗', '💝', '💞', '💓', '💘', '💌', '🌹'];

      for (let i = 0; i < heartCount; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDelay = Math.random() * 25 + 's';
        heart.style.animationDuration = (Math.random() * 15 + 20) + 's';
        heart.style.fontSize = (Math.random() * 20 + 18) + 'px';
        
        // Эффект взрыва при клике
        heart.addEventListener('click', function(e) {
          createHeartExplosion(e.clientX, e.clientY);
        });
        
        heartsContainer.appendChild(heart);
      }
    }

    // Счетчик кликов по сердечкам
    let heartsClickCount = 0;
    const heartsCounter = document.getElementById('heartsCounter');
    const heartsCountDisplay = document.getElementById('heartsCount');

    // Взрыв сердечек при клике (оптимизировано)
    function createHeartExplosion(x, y) {
      // Увеличиваем счетчик
      heartsClickCount++;
      if (heartsCountDisplay) {
        heartsCountDisplay.textContent = heartsClickCount;
      }
      if (heartsCounter && heartsClickCount === 1) {
        heartsCounter.style.display = 'flex';
      }

      const heartSymbols = ['❤️', '💕', '💖', '💗', '💝', '💞', '💓', '💘'];
      const explosionCount = isMobile ? 8 : 15; // Уменьшено для мобильных
      for (let i = 0; i < explosionCount; i++) {
        const heart = document.createElement('div');
        heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
        heart.style.position = 'fixed';
        heart.style.left = x + 'px';
        heart.style.top = y + 'px';
        heart.style.fontSize = (Math.random() * 15 + 15) + 'px';
        heart.style.pointerEvents = 'none';
        heart.style.zIndex = '9999';
        heart.style.animation = `heartExplode 1.5s ease-out forwards`;
        heart.style.animationDelay = (i * 0.03) + 's';
        document.body.appendChild(heart);
        
        const angle = (Math.PI * 2 * i) / explosionCount;
        const distance = isMobile ? 80 + Math.random() * 40 : 120 + Math.random() * 80;
        const endX = x + Math.cos(angle) * distance;
        const endY = y + Math.sin(angle) * distance;
        
        setTimeout(() => {
          heart.style.transform = `translate(${endX - x}px, ${endY - y}px) rotate(720deg)`;
          heart.style.opacity = '0';
        }, 10);
        
        setTimeout(() => heart.remove(), 1500);
      }
    }

    // Добавление CSS для анимации взрыва
    const style = document.createElement('style');
    style.textContent = `
      @keyframes heartExplode {
        to {
          opacity: 0;
          transform: translate(var(--end-x, 0), var(--end-y, 0)) rotate(360deg) scale(0);
        }
      }
    `;
    document.head.appendChild(style);

    // Конфетти при загрузке (только для десктопа)
    function createConfetti() {
      if (isMobile) return;
      const colors = ['#ff69b4', '#ff9a9e', '#fecfef', '#ffeb3b', '#ffffff'];
      const confettiCount = isMobile ? 0 : 30; // Уменьшено с 50 до 30
      for (let i = 0; i < confettiCount; i++) {
        setTimeout(() => {
          const confetti = document.createElement('div');
          confetti.className = 'confetti';
          confetti.style.left = Math.random() * 100 + '%';
          confetti.style.top = '-10px';
          confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.width = (Math.random() * 8 + 4) + 'px';
          confetti.style.height = confetti.style.width;
          confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
          confetti.style.animationDelay = Math.random() * 0.5 + 's';
          confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
          document.body.appendChild(confetti);
          setTimeout(() => confetti.remove(), 5000);
        }, i * 50);
      }
    }

    // Навигация по секциям
    const sections = document.querySelectorAll('.section');
    const navDotsContainer = document.getElementById('navDots');
    
    sections.forEach((section, index) => {
      const dot = document.createElement('div');
      dot.className = 'nav-dot';
      if (index === 0) dot.classList.add('active');
      dot.addEventListener('click', () => {
        section.scrollIntoView({ behavior: 'smooth' });
      });
      navDotsContainer.appendChild(dot);
    });

    // Обновление активной точки при скролле
    let ticking = false;
    function updateActiveDot() {
      if (ticking) return;
      ticking = true;
      requestAnimationFrame(() => {
        const scrollPos = window.scrollY + window.innerHeight / 2;
        sections.forEach((section, index) => {
          const rect = section.getBoundingClientRect();
          const sectionTop = rect.top + window.scrollY;
          const sectionBottom = sectionTop + rect.height;
          const dot = navDotsContainer.children[index];
          
          if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
            document.querySelectorAll('.nav-dot').forEach(d => d.classList.remove('active'));
            dot.classList.add('active');
          }
        });
        ticking = false;
      });
    }

    window.addEventListener('scroll', updateActiveDot, { passive: true });

    // Модальное окно для фотографий
    const photos = document.querySelectorAll('.photo-frame');
    const modal = document.getElementById('photoModal');
    const modalImage = document.getElementById('modalImage');
    const modalClose = document.getElementById('modalClose');
    const modalPrev = document.getElementById('modalPrev');
    const modalNext = document.getElementById('modalNext');
    let currentPhotoIndex = 0;

    photos.forEach((photo, index) => {
      photo.addEventListener('click', () => {
        currentPhotoIndex = index;
        showModal();
      });
    });

    function showModal() {
      modal.classList.add('active');
      updateModalImage();
      document.body.style.overflow = 'hidden';
    }

    function hideModal() {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    function updateModalImage() {
      const photo = photos[currentPhotoIndex];
      modalImage.src = photo.src;
      modalImage.alt = photo.alt;
    }

    function showNextPhoto() {
      currentPhotoIndex = (currentPhotoIndex + 1) % photos.length;
      updateModalImage();
    }

    function showPrevPhoto() {
      currentPhotoIndex = (currentPhotoIndex - 1 + photos.length) % photos.length;
      updateModalImage();
    }

    modalClose.addEventListener('click', hideModal);
    modalNext.addEventListener('click', showNextPhoto);
    modalPrev.addEventListener('click', showPrevPhoto);
    modal.addEventListener('click', (e) => {
      if (e.target === modal) hideModal();
    });

    document.addEventListener('keydown', (e) => {
      if (modal.classList.contains('active')) {
        if (e.key === 'Escape') hideModal();
        if (e.key === 'ArrowRight') showNextPhoto();
        if (e.key === 'ArrowLeft') showPrevPhoto();
      }
    });

    // Управление музыкой
    function initMusic() {
      const musicControl = document.getElementById('musicControl');
      const backgroundMusic = document.getElementById('backgroundMusic');
      const musicIcon = document.getElementById('musicIcon');

      if (!musicControl || !backgroundMusic) return;

      const fileName = 'Кевин Костнер 9 ГРАММ.mp3';
      const source = backgroundMusic.querySelector('source');
      if (source && source.src.indexOf(fileName) === -1) {
        try {
          source.src = encodeURI(fileName);
          backgroundMusic.load();
        } catch(e) {
          source.src = fileName;
          backgroundMusic.load();
        }
      }

      let isPlaying = false;
      let musicStarted = false;

      const startMusic = () => {
        if (musicStarted) return;
        backgroundMusic.muted = false;
        backgroundMusic.volume = 0.6;
        const playPromise = backgroundMusic.play();
        if (playPromise !== undefined) {
          playPromise.then(() => {
            musicIcon.textContent = '🎶';
            musicControl.classList.add('playing');
            isPlaying = true;
            musicStarted = true;
          }).catch((error) => {
            console.log('Автовоспроизведение заблокировано');
            musicIcon.textContent = '🎵';
          });
        }
      };

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          setTimeout(startMusic, 100);
        });
      } else {
        setTimeout(startMusic, 100);
      }

      window.addEventListener('load', () => {
        setTimeout(startMusic, 200);
      });

      const userInteractionEvents = ['click', 'touchstart', 'keydown', 'mousedown'];
      userInteractionEvents.forEach(eventType => {
        document.addEventListener(eventType, () => {
          if (!musicStarted && backgroundMusic.paused) {
            startMusic();
          }
        }, { once: true });
      });

      musicControl.addEventListener('click', (e) => {
        e.stopPropagation();
        if (isPlaying) {
          backgroundMusic.pause();
          musicIcon.textContent = '🎵';
          musicControl.classList.remove('playing');
          isPlaying = false;
        } else {
          backgroundMusic.muted = false;
          backgroundMusic.volume = 0.6;
          backgroundMusic.play().then(() => {
            musicIcon.textContent = '🎶';
            musicControl.classList.add('playing');
            isPlaying = true;
            musicStarted = true;
          }).catch((error) => {
            console.log('Ошибка воспроизведения:', error);
          });
        }
      });

      backgroundMusic.addEventListener('play', () => {
        musicIcon.textContent = '🎶';
        musicControl.classList.add('playing');
        isPlaying = true;
        musicStarted = true;
      });

      backgroundMusic.addEventListener('pause', () => {
        musicIcon.textContent = '🎵';
        musicControl.classList.remove('playing');
        isPlaying = false;
      });
    }

    // Эффект печатания текста в письме
    function initLetterTyping() {
      const letterText = document.getElementById('letterText');
      const letterCursor = document.getElementById('letterCursor');
      const letterDate = document.getElementById('letterDate');
      const letterSignature = document.getElementById('letterSignature');
      const letterPrompt = document.getElementById('letterPrompt');
      const letterPaper = document.getElementById('letterPaper');
      const letterQuestion = document.getElementById('letterQuestion');
      const letterButtonYes = document.getElementById('letterButtonYes');
      const letterButtonNo = document.getElementById('letterButtonNo');
      
      if (!letterText || !letterPrompt || !letterPaper) return;

      // Устанавливаем текущую дату
      const today = new Date();
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      letterDate.textContent = today.toLocaleDateString('ru-RU', options);

      // Текст письма
      const letterContent = `Моя дорогая,

Хотя мы знакомы не так давно, за это короткое время ты успела стать для меня невероятно важной. Каждый день, проведенный рядом с тобой, наполняет моё сердце теплом и радостью.

Ты невероятно красивая. Твоя улыбка способна осветить самый хмурый день, а твои глаза — это целая вселенная, в которую хочется смотреть бесконечно. Но самое удивительное — это твоя внутренняя красота. Твоя доброта, искренность и теплота делают тебя по-настоящему особенной.

За такой короткий срок я успел влюбиться в тебя. В твою улыбку, в твой смех, в то, как ты смотришь на мир, в каждую мелочь, которая делает тебя уникальной. Ты стала мне очень дорога, и я благодарен судьбе за то, что она свела нас вместе.

Каждый момент с тобой — это подарок. Каждая улыбка, каждое слово, каждый взгляд — всё это я бережно храню в своём сердце. Ты делаешь мою жизнь ярче, интереснее и счастливее.

Я хочу, чтобы ты знала: ты невероятно ценна для меня. Ты заслуживаешь всего самого лучшего в этом мире — любви, счастья, радости и всех тех чудес, которые может подарить жизнь.

Спасибо тебе за то, что ты есть. Спасибо за каждый момент, за каждую улыбку, за каждую секунду, проведенную рядом с тобой.`;

      let currentIndex = 0;
      let isTyping = false;
      let letterStarted = false;

      // Обработчик кнопки "Да"
      letterButtonYes.addEventListener('click', () => {
        if (letterStarted) return;
        
        // Скрываем кнопки с анимацией
        letterPrompt.style.animation = 'fadeOut 0.5s ease-out forwards';
        setTimeout(() => {
          letterPrompt.style.display = 'none';
          // Показываем письмо с анимацией
          letterPaper.style.display = 'block';
          letterPaper.style.opacity = '0';
          letterPaper.style.animation = 'letterAppear 1.5s ease-out forwards';
          
          // Начинаем печатать письмо
          letterStarted = true;
          letterText.classList.add('typing');
          startTyping();
        }, 500);
      });

      // Обработчик кнопки "Нет"
      letterButtonNo.addEventListener('click', () => {
        // Показываем сообщение об ошибке
        letterQuestion.textContent = 'Ответ не верный 😊';
        letterQuestion.classList.add('letter-wrong-answer');
        letterQuestion.classList.remove('letter-question');
        
        // Анимация тряски для кнопки "Нет"
        letterButtonNo.style.animation = 'shake 0.5s ease-in-out';
        setTimeout(() => {
          letterButtonNo.style.animation = '';
        }, 500);
        
        // Возвращаем исходный текст через 2 секунды
        setTimeout(() => {
          letterQuestion.textContent = 'Ты готова прочитать письмо? 💌';
          letterQuestion.classList.remove('letter-wrong-answer');
          letterQuestion.classList.add('letter-question');
        }, 2000);
      });

      function startTyping() {
        if (isTyping) return;
        isTyping = true;
        letterText.textContent = '';
        currentIndex = 0;
        typeNextChar();
      }

      function typeNextChar() {
        if (currentIndex < letterContent.length) {
          const char = letterContent[currentIndex];
          letterText.textContent += char;
          currentIndex++;
          
          // Разная скорость для разных символов (замедлено еще больше)
          let delay = 80; // Увеличено с 60 до 80
          if (char === '.' || char === '!' || char === '?') {
            delay = 500; // Увеличено с 400 до 500
          } else if (char === ',') {
            delay = 250; // Увеличено с 200 до 250
          } else if (char === '\n') {
            delay = 400; // Увеличено с 300 до 400
          } else if (char === ' ') {
            delay = 60; // Увеличено с 50 до 60
          }
          
          setTimeout(typeNextChar, delay);
        } else {
          // Текст напечатан, скрываем курсор и показываем подпись
          letterCursor.style.display = 'none';
          setTimeout(() => {
            letterSignature.style.animation = 'fadeInUp 1s ease-out forwards';
            // Показываем всплывающее сообщение через 2 секунды после подписи
            setTimeout(() => {
              showComplimentsPopup();
            }, 2000);
          }, 500);
          isTyping = false;
        }
      }
    }

    // Всплывающее сообщение с комплиментами
    function showComplimentsPopup() {
      const popup = document.getElementById('complimentsPopup');
      const question = document.getElementById('complimentsQuestion');
      const text = document.getElementById('complimentsText');
      const cursor = document.getElementById('complimentsCursor');
      
      if (!popup || !text) return;

      // Показываем всплывающее окно
      popup.classList.add('show');
      
      // Комплименты
      const compliments = [
        'Ты - красивая',
        'невероятно милая',
        'очаровательная',
        'добрая и теплая',
        'лучезарная',
        'неповторимая',
        'особенная',
        'сногсшибательная',
        'грациозная',
        'вдохновляющая',
        'загадочная',
        'искренняя',
        'нежная',
        'сильная',
        'мудрая',
        'веселая',
        'заботливая',
        'талантливая',
        'уникальная',
        'прекрасная',
        'любимая',
        'дорогая',
        'ценная',
        'идеальная',
        'незабываемая'
      ];

      // Начинаем печатать комплименты через небольшую задержку
      setTimeout(() => {
        let currentIndex = 0;
        let currentCompliment = 0;
        let isTypingCompliments = false;

        function startTypingCompliments() {
          if (isTypingCompliments) return;
          isTypingCompliments = true;
          text.textContent = 'Ты - ';
          currentIndex = 0;
          currentCompliment = 0;
          typeNextCompliment();
        }

        function typeNextCompliment() {
          if (currentCompliment >= compliments.length) {
            // Все комплименты напечатаны
            cursor.style.display = 'none';
            // Ждем несколько секунд и начинаем плавно исчезать
            setTimeout(() => {
              startFadeOut();
            }, 3000); // Увеличено с 2000 до 3000
            isTypingCompliments = false;
            return;
          }

          const compliment = compliments[currentCompliment];
          
          if (currentIndex < compliment.length) {
            const char = compliment[currentIndex];
            text.textContent += char;
            currentIndex++;
            
            // Разная скорость для разных символов (замедлено еще больше)
            let delay = 100; // Увеличено с 80 до 100
            if (char === ' ') {
              delay = 80; // Увеличено с 60 до 80
            } else if (char === ',') {
              delay = 400; // Увеличено с 300 до 400
            }
            
            setTimeout(typeNextCompliment, delay);
          } else {
            // Комплимент напечатан, добавляем запятую и переходим к следующему
            if (currentCompliment < compliments.length - 1) {
              text.textContent += ', ';
              currentCompliment++;
              currentIndex = 0;
              setTimeout(typeNextCompliment, 500); // Увеличено с 400 до 500
            } else {
              // Последний комплимент, добавляем точку
              text.textContent += '.';
              currentCompliment++;
              setTimeout(() => {
                cursor.style.display = 'none';
                setTimeout(() => {
                  startFadeOut();
                }, 3000); // Увеличено с 2000 до 3000
              }, 500);
              isTypingCompliments = false;
            }
          }
        }

        // Функция плавного исчезновения
        function startFadeOut() {
          const popupContent = popup.querySelector('.compliments-popup-content');
          const question = document.getElementById('complimentsQuestion');
          const text = document.getElementById('complimentsText');
          
          // Плавное тускнение контента
          popupContent.style.transition = 'opacity 3s ease-out, transform 3s ease-out';
          popupContent.style.opacity = '0';
          popupContent.style.transform = 'scale(0.95) translateY(20px)';
          
          // Плавное тускнение текста
          if (question) {
            question.style.transition = 'opacity 3s ease-out';
            question.style.opacity = '0';
          }
          if (text) {
            text.style.transition = 'opacity 3s ease-out';
            text.style.opacity = '0';
          }
          
          // Плавное тускнение фона
          popup.style.transition = 'opacity 3s ease-out';
          popup.classList.add('fade-out');
          
          // Полное исчезновение после анимации
          setTimeout(() => {
            popup.classList.remove('show', 'fade-out');
            popupContent.style.opacity = '';
            popupContent.style.transform = '';
            popupContent.style.transition = '';
            if (question) {
              question.style.opacity = '';
              question.style.transition = '';
            }
            if (text) {
              text.textContent = '';
              text.style.opacity = '';
              text.style.transition = '';
            }
            popup.style.transition = '';
            const cursor = document.getElementById('complimentsCursor');
            if (cursor) {
              cursor.style.display = 'inline-block';
            }
          }, 3000);
        }

        startTypingCompliments();
      }, 500);
    }

    // Улучшенные анимации появления для всех секций (оптимизировано)
    function initScrollAnimations() {
      if (isMobile) {
        // На мобильных просто показываем элементы без анимаций
        document.querySelectorAll('.compliment-card, .reason-item, .wish-card, .photo-item').forEach(el => {
          el.style.opacity = '1';
          el.style.transform = 'none';
        });
        return;
      }

      const observerOptions = {
        threshold: 0.2,
        rootMargin: '0px 0px -100px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-in');
          }
        });
      }, observerOptions);

      // Анимация для карточек комплиментов
      document.querySelectorAll('.compliment-card').forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
        observer.observe(card);
      });

      // Анимация для элементов причин
      document.querySelectorAll('.reason-item').forEach((item, index) => {
        item.style.animationDelay = `${index * 0.15}s`;
        observer.observe(item);
      });

      // Анимация для карточек пожеланий
      document.querySelectorAll('.wish-card').forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
        observer.observe(card);
      });

      // Анимация для фотографий
      document.querySelectorAll('.photo-item').forEach((item, index) => {
        item.style.animationDelay = `${index * 0.1}s`;
        observer.observe(item);
      });

      // Анимация для секции с письмом
      const letterSection = document.querySelector('.letter-section');
      if (letterSection) {
        const letterObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
            }
          });
        }, { threshold: 0.3 });
        letterObserver.observe(letterSection);
      }
    }

    // Добавляем CSS для анимаций появления
    const scrollAnimationStyle = document.createElement('style');
    scrollAnimationStyle.textContent = `
      .compliment-card,
      .reason-item,
      .wish-card,
      .photo-item {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
        transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      .compliment-card.animate-in,
      .reason-item.animate-in,
      .wish-card.animate-in,
      .photo-item.animate-in {
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      .container {
        opacity: 0;
        animation: fadeInUp 1.2s ease-out forwards;
      }

      h2 {
        opacity: 0;
        animation: fadeInDown 1s ease-out 0.3s forwards;
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .section {
        opacity: 0;
        animation: sectionFadeIn 1s ease-out forwards;
      }

      .section:nth-of-type(1) { animation-delay: 0.1s; }
      .section:nth-of-type(2) { animation-delay: 0.2s; }
      .section:nth-of-type(3) { animation-delay: 0.3s; }
      .section:nth-of-type(4) { animation-delay: 0.4s; }
      .section:nth-of-type(5) { animation-delay: 0.5s; }
      .section:nth-of-type(6) { animation-delay: 0.6s; }

      @keyframes sectionFadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `;
    document.head.appendChild(scrollAnimationStyle);

    // Инициализация
    initMusic();
    createConfetti();
    initLetterTyping();
    initScrollAnimations();
    initDaysCounter();
    initQuotesAnimations();
    initGratitudeAnimations();
    initMomentsAnimations();

    window.addEventListener('load', () => {
      createParticles();
      createHearts();
    });

    // Календарь дней знакомства
    function initDaysCounter() {
      const daysCountEl = document.getElementById('daysCount');
      const startDate = new Date('2025-12-18');
      const today = new Date();
      
      // Вычисляем разницу в днях
      const diffTime = today - startDate;
      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
      
      if (daysCountEl) {
        // Анимация счетчика
        let currentCount = 0;
        const targetCount = diffDays > 0 ? diffDays : 0;
        const duration = 2000;
        const increment = targetCount > 0 ? targetCount / (duration / 16) : 0;
        
        const counter = setInterval(() => {
          currentCount += increment;
          if (currentCount >= targetCount) {
            currentCount = targetCount;
            clearInterval(counter);
          }
          daysCountEl.textContent = Math.floor(currentCount);
        }, 16);
      }
    }

    // Анимации для цитат (оптимизировано)
    function initQuotesAnimations() {
      const quoteCards = document.querySelectorAll('.quote-card');
      if (isMobile) {
        // На мобильных просто показываем
        quoteCards.forEach(card => {
          card.style.opacity = '1';
          card.style.transform = 'none';
        });
        return;
      }

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.style.animation = `quoteFadeIn 0.8s ease-out forwards`;
              entry.target.style.animationDelay = `${index * 0.1}s`;
            }, index * 100);
          }
        });
      }, { threshold: 0.2 });

      quoteCards.forEach(card => {
        observer.observe(card);
      });
    }

    // Анимации для благодарности (оптимизировано)
    function initGratitudeAnimations() {
      const gratitudeCards = document.querySelectorAll('.gratitude-card');
      if (isMobile) {
        // На мобильных просто показываем
        gratitudeCards.forEach(card => {
          card.style.opacity = '1';
          card.style.transform = 'none';
        });
        return;
      }

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.style.animation = `gratitudeFadeIn 0.8s ease-out forwards`;
              entry.target.style.animationDelay = `${index * 0.1}s`;
            }, index * 100);
          }
        });
      }, { threshold: 0.2 });

      gratitudeCards.forEach(card => {
        observer.observe(card);
      });
    }

    // Анимации для моментов (оптимизировано)
    function initMomentsAnimations() {
      const momentItems = document.querySelectorAll('.moment-item');
      if (isMobile) {
        // На мобильных просто показываем
        momentItems.forEach(item => {
          item.style.opacity = '1';
          item.style.transform = 'none';
        });
        return;
      }

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.style.animation = `momentFadeIn 0.8s ease-out forwards`;
              entry.target.style.animationDelay = `${index * 0.1}s`;
            }, index * 100);
          }
        });
      }, { threshold: 0.2 });

      momentItems.forEach(item => {
        observer.observe(item);
      });
    }
  </script>
</body>
</html>
